plugins {
    id 'org.owasp.dependencycheck' version '3.1.1'
    id 'com.github.ben-manes.versions' version '0.17.0'
    id 'org.unbroken-dome.test-sets' version '1.4.2'
}

group = 'com.github.fabienrenaud'
version = '0.0.1-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'jacoco'
apply plugin: 'org.unbroken-dome.test-sets'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    jcenter()
}

testSets {
    integrationTest {
        dirName = 'integration-test'
    }
}

test {
    useJUnitPlatform()
    testLogging {
        exceptionFormat = 'full'
    }
}

integrationTest {
    useJUnitPlatform()
    testLogging {
        exceptionFormat = 'full'
    }
}

dependencies {
    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.2.0'
    testRuntime group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.2.0'
}

jacocoTestReport {
    sourceSets sourceSets.main
    executionData fileTree(buildDir).include("/jacoco/*.exec")
}
